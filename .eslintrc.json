{
  "root": true,
  "parser": "@typescript-eslint/parser",
  "parserOptions": {
    "ecmaVersion": "es2021",
    "sourceType": "module",
    "project": [
      "./common/tsconfig.json",
      "./server/tsconfig.json",
      "./client/tsconfig.json",
      "./e2e/tsconfig.json",
      "./markdown_parser/tsconfig.json"
    ]
  },
  "plugins": [
    "@typescript-eslint",
    "sonarjs",
    "prettier",
    "promise",
    "eslint-plugin-unicorn"
  ],

  "extends": [
    "eslint:recommended",
    "plugin:@typescript-eslint/eslint-recommended",
    "plugin:@typescript-eslint/recommended-requiring-type-checking",
    "plugin:@typescript-eslint/recommended",
    "plugin:sonarjs/recommended",
    "plugin:promise/recommended"
  ],
  "rules": {
    "no-param-reassign": ["error"],
    "prefer-template": ["error"],
    "no-restricted-syntax": [
      "error",
      "ForInStatement",
      "LabeledStatement",
      "WithStatement"
    ],
    "default-case": ["error"],
    "no-underscore-dangle": ["error"],
    "consistent-return": ["error"],
    "operator-assignment": ["error"],
    "no-return-await": ["off"],
    "no-shadow": ["off"],
    "no-promise-executor-return": ["error"],
    "object-shorthand": ["error"],
    "no-path-concat": ["error"],
    "no-else-return": ["error"],
    "no-useless-constructor": ["off"],
    "prefer-destructuring": [
      "error",
      {
        "object": true,
        "array": false
      }
    ],
    "eqeqeq": ["error"],
    "no-redeclare": ["error"],
    "no-lonely-if": ["error"],
    "no-cond-assign": ["error"],
    "prefer-regex-literals": ["error"],
    "spaced-comment": ["error"],
    "no-implicit-coercion": ["error"],
    "prefer-promise-reject-errors": ["error"],

    "@typescript-eslint/no-shadow": ["error"],
    "@typescript-eslint/explicit-function-return-type": ["error"],
    "@typescript-eslint/no-unused-vars": [
      "error",
      { "argsIgnorePattern": "^_" }
    ],
    "@typescript-eslint/return-await": ["error"],
    "@typescript-eslint/no-useless-constructor": ["error"],
    "@typescript-eslint/consistent-type-assertions": [
      "error",
      { "assertionStyle": "as", "objectLiteralTypeAssertions": "never" }
    ],
    "@typescript-eslint/no-unnecessary-condition": ["error"],
    "@typescript-eslint/no-unsafe-return": ["error"],
    "@typescript-eslint/no-floating-promises": [
      "error",
      { "ignoreVoid": false }
    ],
    "@typescript-eslint/no-misused-promises": [
      "error",
      { "checksVoidReturn": false }
    ],
    "@typescript-eslint/no-explicit-any": ["error"],
    "@typescript-eslint/no-unsafe-assignment": ["error"],
    "@typescript-eslint/no-unsafe-argument": ["error"],
    "@typescript-eslint/no-unsafe-member-access": ["error"],
    "@typescript-eslint/no-unsafe-call": ["error"],
    "@typescript-eslint/restrict-template-expressions": ["error"],

    "promise/catch-or-return": ["error", { "allowThen": true }],

    "unicorn/no-useless-promise-resolve-reject": ["error"],
    "unicorn/no-for-loop": ["error"],
    "unicorn/prefer-node-protocol": ["error"],
    "unicorn/prefer-optional-catch-binding": ["error"],
    "unicorn/consistent-function-scoping": [
      "error",
      { "checkArrowFunctions": false }
    ],
    "unicorn/catch-error-name": [
      "error",
      {
        "name": "e"
      }
    ],
    "unicorn/prefer-array-some": ["error"],
    "unicorn/no-await-expression-member": ["error"],
    "unicorn/prefer-spread": ["error"],
    "unicorn/numeric-separators-style": ["error"],
    "unicorn/text-encoding-identifier-case": ["error"],
    "unicorn/prefer-includes": ["error"],
    "unicorn/prefer-string-slice": ["error"],
    "unicorn/no-process-exit": ["error"],
    "unicorn/prefer-set-has": ["error"],
    "unicorn/no-unreadable-array-destructuring": ["error"],
    "unicorn/no-static-only-class": ["error"],
    "unicorn/no-array-push-push": ["error"],
    "unicorn/prefer-array-index-of": ["error"],
    "unicorn/require-array-join-separator": ["error"],
    "unicorn/no-useless-spread": ["error"],

    "sonarjs/cognitive-complexity": ["off"], // TODO: enable

    "prettier/prettier": ["error"]
  },
  "ignorePatterns": ["**/*.d.ts"]
}
